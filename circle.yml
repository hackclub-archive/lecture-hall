machine:
  ruby:
    version:
      2.3.1
checkout:
  post:
    - git submodule sync
    - git submodule update --init # use submodules

# We need to manually git push to Heroku because Lecture Hall depends on
# submodules and Heroku only supports submodules when deploying through git.
deployment:
  master:
    commands:
      - git remote add heroku https://git.heroku.com/lecture-hall.git
      - git push heroku
